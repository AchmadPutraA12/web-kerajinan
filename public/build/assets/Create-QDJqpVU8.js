import{W as k,r as b,j as e}from"./app-RE_fQUSc.js";import{I as n}from"./InputTextLabel-DHBmEm5z.js";import{B as c}from"./button-CBQC8XyW.js";import{S as v}from"./SelectOptionCustom-DTClo7CR.js";import{S as N}from"./Spinner-BWrR4Ud8.js";import{I as y}from"./InputError-CIw0WDxw.js";import{S as u}from"./square-menu-B0zFLWnJ.js";import{c as I}from"./createLucideIcon-DF--Y4RT.js";import{C as w}from"./circle-x-CakpOOjg.js";import"./input-Ci5nLZUe.js";import"./utils-DZ6KI8WZ.js";import"./label-S_mK3SRL.js";import"./index-DIL3v3WS.js";import"./index-Bb4qSo10.js";import"./circle-alert-DGL37OMs.js";/**
 * @license lucide-react v0.424.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S=I("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]),U=({kategoris:x})=>{const{data:a,setData:i,post:g,processing:d,errors:s,reset:p}=k({produk_ketegori_id:"",name:"",deskripsion:"",price:"",image:null}),[m,l]=b.useState(null),h=r=>{const t=r.target.files[0];if(t){i({...a,image:t});const o=new FileReader;o.onloadend=()=>{l(o.result)},o.readAsDataURL(t)}},f=()=>{p(),l(null)},j=r=>{r.preventDefault(),g(route("admin.produk.store"),{forceFormData:!0,onSuccess:()=>p(),preserveScroll:!0})};return e.jsxs("form",{onSubmit:j,className:"flex flex-col gap-4 mt-6 p-4 bg-gray-50 border rounded-lg lg:w-4/5",children:[e.jsx(n,{labelFor:"name",labelText:"Nama produk",error:s&&s.name?s.name:"",inputId:"name",inputProps:{value:a.name,name:"name",type:"text",placeholder:"Masukkan nama produk",onChange:r=>{i({...a,name:r.target.value})}},children:e.jsx(u,{className:"size-5 text-gray-600 absolute z-10 top-2.5 left-2.5"})}),e.jsx(v,{optionName:"Pilih Kategori Produk",htmlFor:"produk_ketegori_id",labelName:"Kategori Produk",optionMap:(x||[]).map((r,t)=>e.jsx("option",{value:r.id,children:r.name},t)),errors:s.produk_ketegori_id,selectOptionProps:{name:"produk_ketegori_id",value:a.produk_ketegori_id,onChange:r=>{i({...a,produk_ketegori_id:r.target.value})}},className:"border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500"}),e.jsx(n,{labelFor:"deskripsion",labelText:"Deskripsi produk",variant:"wajib",error:s&&s.deskripsion?s.deskripsion:"",inputId:"deskripsion",inputProps:{value:a.deskripsion,name:"deskripsion",type:"text",placeholder:"Masukkan sub nama kategori produk",onChange:r=>{i({...a,deskripsion:r.target.value})}},children:e.jsx(u,{className:"size-5 text-gray-600 absolute z-10 top-2.5 left-2.5"})}),e.jsx(n,{labelFor:"price",labelText:"Harga",variant:"wajib",error:s&&s.price?s.price:"",inputId:"price",inputProps:{value:a.price!==""&&!isNaN(a.price)?parseInt(a.price).toLocaleString("id-ID"):"",name:"price",type:"text",placeholder:"Masukkan harga produk",onChange:r=>{const t=r.target.value.replace(/\D/g,"");i({...a,price:t})}},children:e.jsx("span",{className:"size-5 text-gray-600 absolute z-10 top-2 left-2.5",children:"Rp"})}),e.jsxs("div",{className:"flex gap-4 w-full",children:[e.jsxs("div",{className:`flex flex-col gap-2 mt-2 ${a.image?"w-1/2":"w-full"}`,children:[e.jsxs("span",{className:"text-sm",children:["Foto ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("label",{htmlFor:"image",className:"flex items-center cursor-pointer gap-2 hover:bg-slate-100 transform duration-300 flex-col justify-center p-16 bg-white border border-dashed rounded-lg border-gray-500",children:[e.jsx("input",{type:"file",id:"image",className:"hidden",onChange:h}),e.jsxs(e.Fragment,{children:[e.jsx(S,{className:"size-16 text-gray-400"}),e.jsx("span",{className:"text-gray-400 font-medium",children:"Upload Gambar (JPG, PNG, atau GIF)"})]})]})]}),a.image&&e.jsx(e.Fragment,{children:e.jsxs("div",{className:"flex flex-col gap-2 mt-2 w-1/2",children:[e.jsx("span",{className:"text-sm",children:"Preview File"}),e.jsxs("div",{className:"flex items-center rounded-xl justify-between p-2 border bg-white",children:[e.jsxs("div",{className:"flex items-center gap-3 rounded-xl",children:[m&&e.jsx("img",{className:"size-24 object-cover rounded-xl",src:m,alt:""}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("p",{children:a.image.name}),e.jsxs("p",{children:[a.image.size," bytes"]})]})]}),e.jsx("button",{type:"button",onClick:()=>{l(null),i({...a,image:null});const r=document.getElementById("image");r&&(r.value="")},children:e.jsx(w,{className:"size-6 text-red-500"})})]})]})})]}),e.jsx(y,{message:s.image}),e.jsxs("div",{className:"flex items-center justify-end gap-2",children:[e.jsx(c,{type:"button",onClick:f,variant:"outline",size:"lg",className:"border-black",children:"Reset"}),e.jsx(c,{type:"submit",disabled:d,variant:"default",size:"lg",children:d?e.jsx(N,{}):e.jsx("span",{children:"Simpan"})})]})]})};export{U as default};
