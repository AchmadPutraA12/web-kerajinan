import{r as d,W as b,j as e,y as N}from"./app-RE_fQUSc.js";import{D as w,a as y,S as _,b as P,c as D,d as C,I as p}from"./dialog-C6Z2_PJC.js";import{B as c}from"./button-CBQC8XyW.js";import{S as M}from"./SelectOptionCustom-DTClo7CR.js";import{c as g}from"./createLucideIcon-DF--Y4RT.js";import"./input-Ci5nLZUe.js";import"./utils-DZ6KI8WZ.js";import"./label-S_mK3SRL.js";import"./index-DIL3v3WS.js";import"./index-Bb4qSo10.js";import"./index-D9doJLJG.js";import"./index-KFFEeN0q.js";import"./x-BJcxDqtD.js";import"./circle-alert-DGL37OMs.js";/**
 * @license lucide-react v0.424.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u=g("Bed",[["path",{d:"M2 4v16",key:"vw9hq8"}],["path",{d:"M2 8h18a2 2 0 0 1 2 2v10",key:"1dgv2r"}],["path",{d:"M2 17h20",key:"18nfp3"}],["path",{d:"M6 8v9",key:"1yriud"}]]);/**
 * @license lucide-react v0.424.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S=g("Pen",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]]),A=({product:s,kategoris:x})=>{const[h,l]=d.useState(!1),[k,m]=d.useState(null),{data:r,setData:t,errors:o,processing:f}=b({produk_ketegori_id:s.produk_ketegori_id||"",deskripsion:s.deskripsion||"",price:s.price||"",name:s.name||"",image:s.image||""});d.useEffect(()=>{t({produk_ketegori_id:s.produk_ketegori_id||"",deskripsion:s.deskripsion||"",price:s.price||"",name:s.name||"",image:s.image||""})},[s]);const j=a=>{a.preventDefault(),N.post(route("admin.produk.update",s.id),{...r,_method:"put",forceFormData:!0},{preserveScroll:!0})},v=a=>{const i=a.target.files[0];t({...r,image:i});const n=new FileReader;n.onloadend=()=>{m(n.result)},i?n.readAsDataURL(i):m(null)};return e.jsx(e.Fragment,{children:e.jsxs(w,{open:h,onOpenChange:l,children:[e.jsx(y,{asChild:!0,children:e.jsx(c,{variant:"outline",onClick:()=>l(!0),size:"sm",className:"hover:bg-orange-200 border-orange-500",children:e.jsx(_,{className:"h-4 w-4 text-orange-500"})})}),e.jsxs(P,{className:"max-w-[340px] z-[120] sm:max-w-[600px] h-[67vh] md:h-[60vh] rounded-lg overflow-auto bg-white",children:[e.jsx(D,{children:e.jsx(C,{className:"py-3 text-xl",children:"Update Product"})}),e.jsx("div",{className:"bg-white mt-2",children:e.jsxs("form",{onSubmit:j,encType:"multipart/form-data",children:[e.jsxs("div",{className:"flex flex-col gap-4",children:[e.jsxs("div",{className:"mb-4 flex flex-col gap-2",children:[e.jsx("div",{className:"flex items-center w-full justify-center mt-2",children:e.jsxs("div",{className:"relative",children:[e.jsx("img",{className:"object-cover h-52 w-60 border-2 rounded-xl",src:k||`${window.location.origin}/storage/${r.image}`,alt:"product"}),e.jsx("label",{htmlFor:"foto",className:"font-semibold text-sm",children:e.jsx(S,{className:"absolute size-10 cursor-pointer text-white p-2 rounded-full bg-blue-500 -right-3 -bottom-3"})})]})}),e.jsx("div",{className:"items-center gap-2 hidden",children:e.jsx("input",{id:"foto",type:"file",className:"w-full px-4 py-2",name:"foto",onChange:v})}),e.jsx("span",{className:"text-red-600",children:o.image})]}),e.jsx(M,{optionName:"Pilih Kategori Produk",htmlFor:"produk_ketegori_id",labelName:"Kategori Produk",optionMap:x.map((a,i)=>e.jsx("option",{value:a.id,children:a.name},i)),errors:o.produk_ketegori_id,selectOptionProps:{name:"produk_ketegori_id",value:r.produk_ketegori_id,onChange:a=>{t({...r,produk_ketegori_id:a.target.value})}},className:"border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500"}),e.jsx(p,{labelFor:"name",variant:"wajib",labelText:"Nama Produk",inputId:"name",error:o.name||"",inputProps:{name:"name",value:r.name,type:"text",placeholder:"Masukkan nama produk",onChange:a=>t({...r,name:a.target.value})},children:e.jsx(u,{className:"size-5 text-gray-600 absolute z-10 top-2.5 left-2.5"})}),e.jsx(p,{labelFor:"deskripsion",variant:"wajib",labelText:"Deskripsi Produk",inputId:"deskripsion",error:o.deskripsion||"",inputProps:{name:"deskripsion",value:r.deskripsion,type:"text",placeholder:"Masukkan deskripsion produk",onChange:a=>t({...r,deskripsion:a.target.value})},children:e.jsx(u,{className:"size-5 text-gray-600 absolute z-10 top-2.5 left-2.5"})}),e.jsx(p,{labelFor:"price",labelText:"Harga",variant:"wajib",error:o.price||"",inputId:"price",inputProps:{value:r.price!==""&&!isNaN(r.price)?parseInt(r.price).toLocaleString("id-ID"):"",name:"price",type:"text",placeholder:"Masukkan harga",onChange:a=>{const i=a.target.value.replace(/\D/g,"");t({...r,price:i})}},children:e.jsx("span",{className:"size-5 text-gray-600 absolute z-10 top-2 left-2.5",children:"Rp"})})]}),e.jsx("div",{className:"mt-8 w-full flex gap-4 items-center justify-end",children:e.jsx(c,{onClick:()=>l(!1),className:"w-1/2",disabled:f,type:"submit",children:"Save"})})]})})]})]})})};export{A as default};
