import{r,j as s,a as g}from"./app-RE_fQUSc.js";import{B as p}from"./button-CBQC8XyW.js";import{I as j}from"./input-Ci5nLZUe.js";import{P as w}from"./ProductLayout-CNWj5mSS.js";import{F as v}from"./format-rupiah.esm-Dv-bfkK6.js";import"./index-DIL3v3WS.js";import"./index-Bb4qSo10.js";import"./utils-DZ6KI8WZ.js";import"./GuestLayout-WE9u8UZO.js";import"./Toastify-CggrLxgU.js";import"./index-KFFEeN0q.js";import"./createLucideIcon-DF--Y4RT.js";function A({produks:n,kategoris:f,contact:x}){const[o,c]=r.useState(""),[a,i]=r.useState([]),[d,l]=r.useState(-1),m=r.useRef(null);r.useEffect(()=>{if(n){const e=n.filter(t=>t.name.toLowerCase().includes(o.toLowerCase()));i(e),l(-1)}},[o,n]),r.useEffect(()=>{const e=t=>{m.current&&!m.current.contains(t.target)&&i([])};return document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}},[]);const h=e=>{e.key==="ArrowDown"?l(t=>t<a.length-1?t+1:0):e.key==="ArrowUp"?l(t=>t>0?t-1:a.length-1):e.key==="Enter"&&d>=0&&(c(a[d].name),i([]))},u=a.length>0?a:n;return s.jsx(w,{contact:x,kategoris:f,head:"Produk",children:s.jsxs("div",{className:"flex flex-col gap-4",children:[s.jsx("div",{className:"flex gap-2 items-center top-0 sticky z-20 bg-white rounded-xl mb-5 justify-between",children:s.jsx(j,{placeholder:"Cari Produk",className:"w-full",value:o,onChange:e=>c(e.target.value),onKeyDown:h})}),s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-4",children:u&&u.map(e=>s.jsxs("div",{className:"p-4 rounded-xl border shadow-md",children:[s.jsx("img",{className:"object-contain w-full h-40 rounded-lg",src:`/storage/${e.image}`,alt:e.name}),s.jsxs("div",{className:"flex flex-col mt-6 gap-2",children:[s.jsx("span",{className:"text-sm lg:text-2xl font-semibold",children:e.name}),s.jsx("div",{className:"text-sm lg:text-xl",children:s.jsx(v,{value:e.price})}),s.jsx(p,{asChild:!0,children:s.jsx(g,{href:`/produk/${e.id}`,children:"Detail Produk"})})]})]},e.id))})]})})}export{A as default};
